---
layout:     post
title:      Python多维绘图：从2D到6D
subtitle:   
date:       2019-06-29
author:     anqiaoqiao
header-img: img/post-an-plan201901.jpg
catalog: true
tags:
    - 数据可视化
---

## **Python多维绘图：从2D到6D**

英文原文：[Multi-dimension plots in Python — From 3D to 6D.](https://medium.com/@prasadostwal/multi-dimension-plots-in-python-from-2d-to-6d-9a2bf7b8cc74)

### **前言**

数据可视化，具有能够同时检视多维度空间的能力， 对于直观地了解数据来说非常重要。在本教程当中，我们将会尝试绘制到6维为止的可视化视图。 



**Plotly** python 是一个用于各种可视化的开源模组， 它提供了远超标准`matplotlib`和`seaborn`模组的客制化功能。 **Plotly**可以直接通过`pip install plotly`来安装。我们将会使用 Plotly 来绘制视图。 



### **导入数据**

为了演示数据可视化， 我们将会使用一组较为简单的从UCI获取的包含26种特征206量汽车相关的数据(26列*205行)。 在本教程中，我们将会使用26个特征中的以下6个来演示。 



![img](https://static.leiphone.com/uploads/new/sns/article/201906/1560321108755427.png)

<center><*205行中的前4行数据*></center>

使用pandas模块来导入数据

```
import pandas as pd    
data = pd.read_csv("cars.csv")
```

现在，我们已经准备好了所需的数据。接下来开始试着绘制2维的可视化视图。 

### **2维散点图**

散点图是最简单，也是最常见的视图。 这里使用上面6个特征中的2个特征， `price`和`curb-weight`来相对地定义y轴和x轴的变量。 

![0_XE-lJbGtd1XC_x5E.png](https://static.leiphone.com/uploads/new/sns/article/201906/1560321222864498.png)

与 Matplotlib 有所不同，Plotly的处理过程有些许不同。 我们必须先定义 ‘layout’和 ‘figure’参数， 再将其导入函数offline.plot， 函数的输出结果会以html的格式被保持于当前的工作目录。 这里是一幅输出结果的html视图。 你可以通过文末的Github链接来查看可交互的HTML视图。 

![img](https://static.leiphone.com/uploads/new/sns/article/201906/1560321108326427.png)  

<center><*2维度 散点图*></center>

### **3维散点图** 

我们可以通过在Z轴添加第三个特征 `horsepower` 来实现3维的可视化。 Plotly 提供了 `Scatter3D` 函数来绘制可交互的3维视图。 

![0_XE-lJbGtd1XC_x5E.png](https://static.leiphone.com/uploads/new/sns/article/201906/1560321534873575.png)

<center><*3维散点图*></center>

不同于在此博文中的每个视图中植入代码，通过文末的链接可以获取相关的代码。 有需要的请确认。 

**增加第4维度：**

我们知道我们无法直接地来可视化更高的维度特征，但这里可以利用一些技巧。 我们可以使用一些假性的“数轴”来可视化更高的维度特征。 比如利用标记点的颜色，大小和形状。 

在这里，和之前的三个特征一样， 我们将会使用市里程特征 `city-mpg`作为第四维特征。通过调整3维散点图的`markercolor` 参数来表示其变化。 在这里，越浅的蓝色代表着越低的里程数。

![img](https://static.leiphone.com/uploads/new/sns/article/201906/1560321108199593.png)

<center><*4维散点图，标记点的颜色代表第四维特征*></center>

### **增加第5维度：**

标记点的大小可以被用于第五维度的可视化。 在这里，我们将会使用 `engine-size `特征的数据来决定标记点的大小，通过修改3维散点图中的 `markersize` 这项参数来实现。 

观察：在这里，引擎大小的变化可以与其他四个特征被一同清晰地观察到。汽车的价格越高，引擎的大小就越大。另外，公里数越低，引擎的大小就越大。

![img](https://static.leiphone.com/uploads/new/sns/article/201906/1560321108618162.png)

<center><*5维视图 - 通过标记点的大小来表示第五维特征*></center>

### **增加第6维度：**

使用标记点的立体形状， 分类数值可以被可视化表达。 Plotly为3维散点图提供了10种不同的立体形状（例如菱形，圆形，或正方形）。 所以最多可以表示10种不同的分类数值。

在我们之前的数据中，特征 `num-of-doors` 当中包含的数值表示了车门的数量(2或者4)。这些数值可以被转换成不同的形状字符串来定义不同的立体形状。例如4扇车门的用正方形，2扇车门的用圆形来表示。 这些字符串可以被用于设置3维散点图的 `markersymbol `参数。

观察： 在6维散点图中。 价格较低的汽车似乎更倾向于4扇车门（圆形）。如果更加仔细地去观察数据，我们将会发现更多类这样的规律。 

![img](https://static.leiphone.com/uploads/new/sns/article/201906/1560321109603771.png)  

<center><*6维散点图，标记点的形状被用来表示第6维特征*></center>

### **我们可以继续增加更多的维度吗？**

可以。 标记点有更多的属性， 例如透明度和渐变可以被用来表示不同的维度。 但是， 如果我们继续增加了过多的维度，视图中的标记点的辨认会变得比较困难。 

### **源代码：**

Python代码和交互式视图文件： [Github](https://github.com/ostwalprasad/PythonMultiDimensionalPlots)

非常感谢您的阅读，有任何问题欢迎交流。  

