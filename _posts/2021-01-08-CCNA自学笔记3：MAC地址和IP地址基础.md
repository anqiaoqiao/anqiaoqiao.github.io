---
layout: post
title: CCNA自学笔记3：
subtitle: MAC地址和IP地址基础
date: 2021-01-29
author: anqiaoqiao
header-img: img/post-an-plan20191127.jpg
catalog: true
tags:
    - CCNA
---

#网络地址：MAC地址与IP地址

1.MAC地址：8bit*6 = 48bit

MAC地址的基础是Ethernet协议，也就是以太网协议，他被作用于链路层(第二层)。MAC地址通常理解上是一个设备的物理地址，告诉网络下一步要把数据传输到哪个地方。与IP地址不同的是，IP地址是告诉网络起点和终点，而MAC地址则是告诉网络从起点到终点这条路应该怎么去走。 就像生活中做地铁导航APP告诉你应该怎么转车比较快一样。

MAC地址总共包含48个bit，前24个比特表示该设备的生产厂商，后24个比特才是所谓的要被传输的数据。 在后24个比特中的前2个比特表示的是需要传输的数据的类型， 最后的4个比特则是作为校验数据来使用。中间的24-4-2=18个比特才是要传输的数据本体。

2.IP地址：8bit*4 = 32bit

IP地址作用与网络结果的网络层(第三层)，与MAC地址的区别主要是MAC地址的寻址是不分级的，就好像一张纸上面的每一行都写上了地址，寻址的时候是一行一行地进行确认。而IP地址的寻址则是分级的，就好像平时写信的时候， 国家-省份-市级- 街道这种感觉。

IP地址的长度是8bit * 4 = 32bit。IP地址主要表示两个东西：网络和主机。根据地址段表示内容的不同，IP地址被分为了ABCDE五个地址等级。最常涉及到的是ABC三个地址等级。具体的感觉如下：

- Class A： 8bit 表示网络 24bit 表示主机
- Class B： 12bit 表示网络 12bit 表示主机
- Class C： 24bit 表示网络 8bit 表示主机

计算机识别一个网络是哪种级别的网络，主要是通过Leading bit判断的。Leading bit 也就是IP地址前8bit的头几个bit来判断的， Class A - C的例子如下：

- Class A： 00000000 - 01111111 = 0 - 127
- Class B： 10000000 - 10111111 = 128 - 191
- Class C： 11000000 - 11011111 = 192 - 223

关于计算每种等级网络可以容纳多少台主机，在计算之前首先需要明白，表示网络的头几位，由于是Leading bit，所以必须被固定来表示这个网络的等级。而对于表示主机的bit来说，每个网络内必须有两个地址被拿来表示网络本身和广播，所以理论上来说，这两个地址不可被分配给主机。所以，每种等级的网络可以容纳多少台主机，计算的例子如下：

- Class A： 2^(8-1) * (2^(24)-2)
- Class B： 2^(16-2) * (2^(16)-2)
- Class C： 2^(24-3) * (2^(8)-2)

私有IP的概念：由于IP地址本身是32bit，世界上那么多设备2^32个地址很快就会被分配干净。所以IP地址又被分成了公有IP和私有IP。私有IP的网段是固定的，具体的区间如下：

- Class A： 10.0.0.0 - 10.255.255.255
- Class B： 172.16.0.0 - 172.31.255.255
- Class C：192.168.0.0 -192.168.255.255

ARP(Address Resolution Protocol) 协议

ARP协议可以说是工作在2.5层之间，为IP地址和MAC地址提供转换的服务。其原理就是在给出了IP地址之后，主机向网络内的所有主机进行广播，询问谁知道给出的IP地址的MAC地址是多少，在某个IP地址符合要求的主机收到后就会回答：我的MAC地址是多少多少。 

关于广播，单播，组播

- 广播： mac的地址为FF:FF:FF:FF:FF:FF IP地址为每个网络的最后一个地址
- 单播： 一对一
- 组播：一对组

<p align="right">(编辑于2021.01.29, 东京)</p>

